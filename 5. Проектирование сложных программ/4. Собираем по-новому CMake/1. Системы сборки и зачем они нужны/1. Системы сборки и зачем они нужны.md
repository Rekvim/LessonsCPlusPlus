## Системы сборки и зачем они нужны

C++ — это международный стандарт, который поддерживается различными компиляторами на разных операционных системах. Вы знакомы как минимум с двумя основными: GCC и Clang. Также в «большую тройку» компиляторов включают MSVC (Microsoft Visual C++). В отличие от первых двух, он не свободный, но доступен бесплатно в составе Microsoft Visual Studio Community.

Помимо разных компиляторов и операционных систем, с кодом на C++ можно работать в разных IDE:

- CLion — коммерческая среда от JetBrains,

- Code Blocks — свободная среда на основе фреймворка wxWidgets,

- Eclipse — свободная среда для разработки кросплатформенных приложений,

- Visual Studio — среда от Microsoft, доступная под Windows,

- Visual Studio Code — среда от Microsoft, поддерживающая множество плагинов и доступная на разных операционных системах,

- QT creator — среда на основе фреймворка QT.

Каждый компилятор и каждая операционная система имеют свои особенности, а каждая среда разработки — свой формат проекта. В C++ масса возможностей сделать код как можно более универсальным и переносимым, чтобы его можно было собирать под разными операционными системами, компиляторами и версиями стандартной библиотеки. Но он всё равно не может учесть многого: например, где размещены зависимые библиотеки, какие из них доступны и как их правильно компоновать.

Особенно высоки требования к переносимым и свободным программам. Они должны собираться в совершенно разных окружениях. У пользователей этих программ может не быть IDE, которой пользуетесь вы.

Какое решение лучше подойдёт, чтобы упростить работу с большой программой под разными IDE и операционными системами?

> Придумать формат конфигурации, из которого можно получить проекты для разных IDE, и написать программу для конвертации. Отличное решение, достаточно один раз реализовать генератор проекта для каждой среды разработки.


Преобразование из общей конфигурации в проекты разных IDE выполняют системы автоматизированной сборки. В теме будет рассматриваться одна из них — CMake. Это не единственная и не самая современная система автоматизированной сборки, но её часто используют для проектов на C++. CMake регулярно обновляется и поддерживает новые возможности C++, а также актуальные IDE и генерацию скриптов Makefile для сборки без IDE.

<div class="callout">
CMake теряет популярность. На смену ему приходят новые системы сборки или старые, адаптированные под C++. Среди них можно упомянуть Meson и Ninja, Build2, SCons.
</div>
