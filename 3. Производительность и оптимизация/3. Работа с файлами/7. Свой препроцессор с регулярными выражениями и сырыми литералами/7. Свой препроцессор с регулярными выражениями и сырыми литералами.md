## Свой препроцессор с регулярными выражениями и сырыми литералами
В задании к этому уроку предлагаем вам написать препроцессор C++, который будет подставлять содержимое файлов на место `#include`-директив.

При выполнении задания пригодятся регулярные выражения. В C++ функции для работы с регулярными выражениями располагаются в стандартном заголовочном файле `<regex>`. Они подробно описаны в документации на cppreference. В этом уроке кратко перечислены возможности, полезные для решения задачи.

Регулярное выражение представляется объектом класса `std::regex`. Его можно сконструировать из строки или строкового литерала. Для проверки строки на соответствие регулярному выражению используйте алгоритм `regex_match`, принимающий следующие параметры:
- `str` — строка или литерал, которую нужно проверять на соответствие. Можно также указывать два итератора на символы;
- `m` (необязательный) — ссылка на объект типа smatch, в который будет записан результат сопоставления;
- `e` — само регулярное выражение;
- `flags` (необязательный) — параметры соответствия.

Функция возвращает `true`, если соответствие найдено. При этом метод `empty` параметра `m` будет возвращать `false`.

Рассмотрим регулярное выражения для чисел с плавающей точкой, окружённых любым количеством пробельных символов. Ещё оно поможет выделить целую и дробную часть числа:
```cpp
#include <iostream>
#include <regex>

using namespace std;

void PrintFloatInfo(const std::string& text) {
    static regex num_reg("\\s*([+-]?[0-9]+)\\.([0-9]*)(e[+-]?[0-9]+)?\\s*");
    smatch m;

    if (!regex_match(text, m, num_reg)) {
        cout << text << " - не число с плавающей точкой"s << endl;
    } else {
        cout << text << " - число с целой частью "s << m[1]
                     << ", дробной частью "s << m[2] << endl;
    }
}

int main() {
    PrintFloatInfo("aaabbb"s);
    PrintFloatInfo("3.1415926535"s);
    PrintFloatInfo("  123.\t"s);
    PrintFloatInfo("1.2.3"s);
    PrintFloatInfo("10.5a"s);
    PrintFloatInfo("10.5e+05"s);
} 
```
Программа выведет:
```
aaabbb - не число с плавающей точкой
3.1415926535 - число с целой частью 3, дробной частью 1415926535
  123.     - число с целой частью 123, дробной частью 
1.2.3 - не число с плавающей точкой
10.5a - не число с плавающей точкой
10.5e+05 - число с целой частью 10, дробной частью 5 
```
В этом выражении использованы группы — скобки, которые помечают определённые фрагменты регулярного выражения. Так мы получили целую и дробную части.

Формальное описание синтаксиса регулярных выражений, используемых в C++, есть в документации. Более простое и живое описание дано на русском языке в этой статье.

Также допустимы другие форматы регулярных выражений. Формат задаётся флагом при создании объекта `regex`.

Регулярное выражение из примера выглядело так: `\s*([+-]?[0-9]+)\.([0-9]*)(e[+-]?[0-9]+)?\s*`. Читать его непросто, но для записи в коде пришлось экранировать все слеши, что ещё сильнее затруднило чтение. Вместо этого можно было использовать сырой литерал — разновидность строкового литерала, позволяющую не экранировать спецсимволы: слеши, переводы строк и даже кавычки. 

Чтобы задать сырой литерал в C++, поставьте перед кавычкой букву R. Литерал позволяет задать произвольную последовательность конца литерала, которая пишется между кавычкой и открывающей скобкой. Чтобы показать, где литерал закончился, закройте скобку и повторите эту последовательность. Для регулярного выражения можно использовать последовательность конца из одного символа `/`:
```
static regex num_reg(R"/(\s*([+-]?[0-9]+)\.([0-9]*)(e[+-]?[0-9]+)?\s*)/"); 
```